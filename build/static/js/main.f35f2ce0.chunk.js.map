{"version":3,"sources":["components/DisplayTitle.js","components/FilterForm.js","components/Form.js","components/Notification.js","components/Number.js","components/Numbers.js","services/persons.js","App.js","index.js"],"names":["DisplayTitle","text","FilterForm","handleOnChangeSeach","newFilter","onChange","value","Form","props","onSubmit","handleOnSubmit","handleOnChangeName","newName","handleOnChangeNumber","newNumber","type","Notification","notificationClass","message","className","Number","person","handleDeletePhone","name","number","onClick","Numbers","persons","filter","toLowerCase","indexOf","map","id","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","deletePerson","delete","update","put","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","notificationMessage","setNotificationMessage","useEffect","personService","initialPersons","event","target","preventDefault","personObject","length","personExists","find","p","window","confirm","returnedPerson","setTimeout","createPerson","concat","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f35f2ce0.chunk.js","sourcesContent":["import React from 'react';\n\nconst DisplayTitle = ({ text }) =>\n    <h2>{text}</h2>\n\nexport default DisplayTitle","import React from 'react';\n\nconst FilterForm = ({ handleOnChangeSeach, newFilter }) => {\n    return (\n        <form>\n            filter shown with: <input onChange={handleOnChangeSeach} value={newFilter} />\n        </form>\n    )\n}\n\nexport default FilterForm","import React from 'react';\n\nconst Form = props => {\n    return (\n        <form onSubmit={props.handleOnSubmit} >\n            <div>\n                name: <input onChange={props.handleOnChangeName} value={props.newName} />\n            </div>\n            <div>\n                number: <input onChange={props.handleOnChangeNumber} value={props.newNumber} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default Form","import React from 'react';\n\nconst Notification = ({ notificationClass, message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={notificationClass}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react';\n\nconst Number = ({ person, handleDeletePhone }) =>\n    <div>\n        {person.name} {person.number}\n        <button onClick={handleDeletePhone}>delete</button>\n    </div>\n\nexport default Number","import React from 'react';\nimport DisplayTitle from './DisplayTitle';\nimport Number from './Number';\n\nconst Numbers = ({ persons, filter, handleDeletePhone }) => {\n    return (\n        <>\n            <DisplayTitle text=\"Numbers\" />\n            {persons.filter(person => {\n                return person.name.toLowerCase().indexOf(filter.toLowerCase()) >= 0\n            }).map(person =>\n                <Number key={person.id} person={person} handleDeletePhone={() => handleDeletePhone(person.id)} />\n            )}\n        </>\n    )\n}\n\nexport default Numbers","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst exportedObject = { getAll, create, deletePerson, update }\n\nexport default exportedObject","import React, { useState, useEffect } from 'react'\nimport DisplayTitle from './components/DisplayTitle'\nimport FilterForm from './components/FilterForm'\nimport Form from './components/Form'\nimport Notification from './components/Notification'\nimport Numbers from './components/Numbers'\nimport personService from './services/persons'\n\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [newFilter, setNewFilter] = useState('')\n    const [notificationMessage, setNotificationMessage] = useState({})\n\n    const initialPhonebookHook = () => {\n        personService.getAll()\n            .then(initialPersons => {\n                setPersons(initialPersons)\n            })\n    }\n\n    useEffect(initialPhonebookHook, [])\n\n    const personAlreadyExists = () => {\n        return persons.find(p => p.name === newName)\n    }\n\n    const handleOnSubmit = event => {\n        event.preventDefault()\n        const personObject = {\n            id: persons.length + 1,\n            name: newName,\n            number: newNumber\n        }\n\n        const personExists = personAlreadyExists()\n        if (!personExists) {\n            personService.create(personObject)\n                .then(createPerson => {\n                    setPersons(persons.concat(personObject))\n                    setNewName('')\n                    setNewNumber('')\n                    setNotificationMessage({ className: 'success', message: `Added '${personObject.name}'` })\n                    setTimeout(() => {\n                        setNotificationMessage({})\n                    }, 5000)\n                })\n                .catch(error => {\n                    setNotificationMessage({ className: 'error', message: error.response.data.error })\n                    setTimeout(() => {\n                        setNotificationMessage({})\n                    }, 5000)\n                })\n        } else {\n            window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n            personService.update(personExists.id, personObject)\n                .then(returnedPerson => {\n                    setPersons(persons.map(p => p.id !== personExists.id ? p : returnedPerson))\n                    setNewName('')\n                    setNewNumber('')\n                    setNotificationMessage({ className: 'success', message: `Updated '${personExists.name}'` })\n                    setTimeout(() => {\n                        setNotificationMessage({})\n                    }, 5000)\n                })\n        }\n    }\n\n    const handleOnChangeName = event => {\n        setNewName(event.target.value)\n    }\n\n    const handleOnChangeNumber = event => {\n        setNewNumber(event.target.value)\n    }\n\n    const handleOnChangeSeach = event => {\n        setNewFilter(event.target.value)\n    }\n\n    const handleDeletePhone = id => {\n        const person = persons.find(p => p.id === id)\n        const confirm = window.confirm('Delete ' + person.name)\n        if (confirm === true) {\n            personService.deletePerson(id)\n                .then(deletePerson => {\n                    setPersons(persons.filter(p => p.id !== id))\n                })\n                .catch(error => {\n                    setNotificationMessage({ className: 'error', message: `Person '${person.name}' was already removed from server` })\n                    setTimeout(() => {\n                        setNotificationMessage({})\n                    }, 5000)\n                })\n        }\n    }\n\n    return (\n        <div>\n            <DisplayTitle text=\"Phonebook\" />\n            <Notification message={notificationMessage.message} notificationClass={notificationMessage.className} />\n            <FilterForm handleOnChangeSeach={handleOnChangeSeach} newFilter={newFilter} />\n            <Form handleOnSubmit={handleOnSubmit} handleOnChangeName={handleOnChangeName} handleOnChangeNumber={handleOnChangeNumber} newName={newName} newNumber={newNumber} />\n            <Numbers persons={persons} filter={newFilter} handleDeletePhone={handleDeletePhone} />\n        </div>\n    )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}